description = "---"

prompt = """
name: smartspec_reverse_to_spec
description: Reverse engineer existing projects to generate standardized SPEC document
version: 1.0.0
---

# SmartSpec Reverse Engineering Workflow

**Purpose:** ‡πÅ‡∏õ‡∏•‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏î‡∏¥‡∏° (existing project) ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ SPEC ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£

**Supported Technologies:**
- Languages: TypeScript, JavaScript
- ORM: Prisma
- Frameworks: Express, NestJS, Fastify
- Spec Formats: OpenSpec, Speckit
- Documentation: Markdown files (architecture.md, design.md, backlog.md, readme.md)

**Output:** SPEC document with 8 core sections

---

## Overview

‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `/smartspec_reverse_to_spec` ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á SPEC ‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå **Hybrid Approach** ‡∏ó‡∏µ‡πà‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô:

1. **Static Analysis** - ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô (Data Model, API Routes, Security)
2. **Document Parsing** - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ Markdown ‡πÅ‡∏•‡∏∞ Spec files ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
3. **LLM-Assisted Analysis** - ‡πÉ‡∏ä‡πâ AI ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏ô‡∏∏‡∏°‡∏≤‡∏ô Business Logic ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢

‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ñ‡∏∑‡∏≠ SPEC ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö SmartSpec Workflow ‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:
```
SPEC ‚Üí PLAN ‚Üí TASKS ‚Üí ROADMAP ‚Üí IMPLEMENTATION
```

---

## Instructions

### Core Principles

1. **Code is Source of Truth:** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (priority: code > docs > specs)
2. **Merge Intelligently:** ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á‡πÇ‡∏î‡∏¢‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ç‡∏â‡∏•‡∏≤‡∏î
3. **Flag Uncertainties:** ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à ‡πÉ‡∏´‡πâ flag ‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ user review ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏î‡∏≤
4. **Generate Readable Prose:** ‡πÉ‡∏ä‡πâ LLM ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà dump ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
5. **Validate Completeness:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ SPEC ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô SmartSpec

### Workflow Phases

‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 4 phases ‡∏´‡∏•‡∏±‡∏Å:

**Phase 1: Project Scanning & Static Analysis**
- ‡∏™‡πÅ‡∏Å‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
- ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Prisma schema ‚Üí Data Model
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö API routes ‚Üí API Specification
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö middlewares ‚Üí Security Requirements
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö dependencies ‚Üí External Integrations

**Phase 2: Document Parsing**
- Parse Markdown files (readme.md, architecture.md, backlog.md)
- Parse OpenSpec (API specification)
- Parse Speckit (Use cases and business rules)

**Phase 3: LLM-Assisted Analysis**
- Infer business logic ‡πÅ‡∏•‡∏∞ use cases ‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î
- Infer business rules ‡πÅ‡∏•‡∏∞ validation logic
- Generate prose ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ section

**Phase 4: SPEC Generation**
- Merge ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å phase
- Resolve conflicts
- Generate SPEC 8 core sections
- Generate diagrams (ER diagram, architecture diagram)
- Validate completeness

---

## Phase 1: Project Scanning & Static Analysis

### Task 1.1: Scan Project Structure

**Goal:** ‡∏™‡πÅ‡∏Å‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏∏ technology stack

**Actions:**
1. ‡∏™‡πÅ‡∏Å‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô project directory (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô node_modules, .git, dist, build)
2. ‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏ü‡∏•‡πå TypeScript/JavaScript ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
3. ‡∏´‡∏≤ `package.json` ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå dependencies
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö framework (Express, NestJS, Fastify)
5. ‡∏´‡∏≤ Prisma schema file (`schema.prisma`)

**Output:**
```typescript
{
  rootPath: string;
  files: string[];
  framework: 'express' | 'nestjs' | 'fastify';
  prismaSchema?: string;
  packageJson: any;
}
```

**Example:**
```
üìÇ Scanning project: ./my-fintech-app
‚úÖ Found 127 TypeScript files
‚úÖ Framework detected: NestJS
‚úÖ Prisma schema found: ./prisma/schema.prisma
‚úÖ Dependencies: 45 packages
```

---

### Task 1.2: Parse Prisma Schema

**Goal:** ‡∏î‡∏∂‡∏á Data Model ‡∏à‡∏≤‡∏Å Prisma schema ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á ER Diagram

**Actions:**
1. ‡πÉ‡∏ä‡πâ `@prisma/internals` package ‡πÄ‡∏û‡∏∑‡πà‡∏≠ parse `schema.prisma`
2. Extract models, fields, types, constraints, relationships
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á ER Diagram ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö Mermaid
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á Data Dictionary

**Output:**
```typescript
{
  models: Array<{
    name: string;
    fields: Array<{
      name: string;
      type: string;
      isRequired: boolean;
      isUnique: boolean;
      relationName?: string;
    }>;
  }>;
  erDiagram: string; // Mermaid format
}
```

**Example:**
```prisma
model User {
  id        String   @id @default(uuid())
  email     String   @unique
  credits   Credit[]
  invoices  Invoice[]
}

model Credit {
  id        String   @id @default(uuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id])
  amount    Float
}
```

**ER Diagram (Mermaid):**
```mermaid
erDiagram
  User {
    string id PK
    string email UK
  }
  Credit {
    string id PK
    string userId FK
    float amount
  }
  User ||--o{ Credit : \"has\"
```

**Best Practices:**
- ‡πÉ‡∏ä‡πâ `getDMMF()` ‡∏à‡∏≤‡∏Å `@prisma/internals` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö relationships ‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (1:1, 1:N, N:M)
- ‡∏£‡∏∞‡∏ö‡∏∏ constraints ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (PK, FK, UK, NOT NULL)

---

### Task 1.3: Detect API Routes

**Goal:** ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö API endpoints ‡∏à‡∏≤‡∏Å Express, NestJS, Fastify

**Actions:**
1. ‡πÉ‡∏ä‡πâ Regex patterns ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö route definitions
2. Extract method, path, handler
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö request/response types (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ TypeScript types)
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö middlewares ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ route

**Regex Patterns:**
```typescript
// Express: router.get('/path', handler)
/router\\.(get|post|put|delete|patch)\\s*\\(\\s*['\"]([^'\"]+)['\"]/g

// NestJS: @Get('/path')
/@(Get|Post|Put|Delete|Patch)\\s*\\(\\s*['\"]([^'\"]+)['\"]/g

// Fastify: fastify.get('/path', handler)
/fastify\\.(get|post|put|delete|patch)\\s*\\(\\s*['\"]([^'\"]+)['\"]/g

// Express app: app.get('/path', handler)
/app\\.(get|post|put|delete|patch)\\s*\\(\\s*['\"]([^'\"]+)['\"]/g
```

**Output:**
```typescript
{
  routes: Array<{
    method: string;
    path: string;
    file: string;
    line: number;
    handler?: string;
  }>;
}
```

**Example:**
```typescript
// Input code:
router.post('/api/credit/purchase', authenticate, validateBody(PurchaseCreditDto), purchaseCredit);

// Output:
{
  method: 'POST',
  path: '/api/credit/purchase',
  file: 'src/routes/credit.ts',
  line: 42,
  middlewares: ['authenticate', 'validateBody']
}
```

**Best Practices:**
- ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏° common patterns (80-90% ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)
- ‡∏ñ‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÉ‡∏´‡πâ flag ‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ user review
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö dynamic routes (`/users/:id`) ‡∏î‡πâ‡∏ß‡∏¢

---

### Task 1.4: Detect Middlewares

**Goal:** ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö middlewares ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå (authentication, rate limiting, validation)

**Actions:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö authentication patterns (JWT, session, OAuth)
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö rate limiting
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö input validation (Zod, Joi, class-validator)
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö CORS, helmet, ‡πÅ‡∏•‡∏∞ security middlewares ‡∏≠‡∏∑‡πà‡∏ô‡πÜ

**Patterns:**
```typescript
// Authentication
/jwt/i, /JwtAuthGuard/i, /verifyToken/i, /@UseGuards\\(.*Auth/i

// Rate Limiting
/rateLimit/i, /rateLimiter/i, /@Throttle/i

// Validation
/zod/i, /joi/i, /class-validator/i, /@Is/i
```

**Output:**
```typescript
{
  authentication: {
    type: 'jwt' | 'session' | 'oauth';
    detected: boolean;
  };
  rateLimit: { detected: boolean };
  validation: {
    library: 'zod' | 'joi' | 'class-validator';
    detected: boolean;
  };
}
```

**Best Practices:**
- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á explicit (decorators, middlewares) ‡πÅ‡∏•‡∏∞ implicit (code patterns)
- ‡∏ñ‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏∏‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

---

### Task 1.5: Detect External Dependencies

**Goal:** ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö external services ‡πÅ‡∏•‡∏∞ integrations

**Actions:**
1. Parse `package.json` dependencies
2. ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ö known dependencies (Stripe, SendGrid, AWS, Redis, etc.)
3. ‡∏£‡∏∞‡∏ö‡∏∏ type (payment, email, storage, cache, queue, monitoring)
4. ‡∏£‡∏∞‡∏ö‡∏∏ purpose

**Known Dependencies:**
```typescript
{
  'stripe': { type: 'payment', purpose: 'Payment processing' },
  '@sendgrid/mail': { type: 'email', purpose: 'Email delivery' },
  'aws-sdk': { type: 'storage', purpose: 'Cloud services' },
  'redis': { type: 'cache', purpose: 'Caching and session storage' },
  'bull': { type: 'queue', purpose: 'Job queue' },
  '@sentry/node': { type: 'monitoring', purpose: 'Error tracking' },
}
```

**Output:**
```typescript
{
  dependencies: Array<{
    name: string;
    type: string;
    purpose: string;
    version: string;
  }>;
}
```

---

## Phase 2: Document Parsing

### Task 2.1: Parse Markdown Documentation

**Goal:** ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Markdown files ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà

**Actions:**
1. Parse `readme.md` ‚Üí System Overview
2. Parse `architecture.md` ‚Üí Architecture Summary
3. Parse `design.md` ‚Üí Design decisions
4. Parse `backlog.md` ‚Üí Feature list

**Extraction Strategy:**

**For readme.md:**
- ‡∏´‡∏≤ `## Overview` section ‡∏´‡∏£‡∏∑‡∏≠ first paragraph
- Extract project description, key features

**For architecture.md:**
- Extract ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Section 2: Architecture Summary)
- ‡∏´‡∏≤ diagrams (Mermaid, PlantUML) ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ

**For backlog.md:**
- Parse list items ‡∏´‡∏£‡∏∑‡∏≠ headings
- Extract feature name, description, priority
- Format: `- [HIGH] Feature Name: Description`

**Output:**
```typescript
{
  overview?: string;
  architecture?: string;
  design?: string;
  features?: Array<{
    name: string;
    description: string;
    priority?: string;
  }>;
}
```

**Best Practices:**
- ‡πÉ‡∏ä‡πâ `marked` library ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Markdown parsing
- ‡πÉ‡∏ä‡πâ `gray-matter` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö frontmatter
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå ‡πÉ‡∏´‡πâ skip ‡πÑ‡∏õ (‡πÑ‡∏°‡πà error)

---

### Task 2.2: Parse OpenSpec

**Goal:** ‡∏î‡∏∂‡∏á API specification ‡∏à‡∏≤‡∏Å OpenSpec (OpenAPI) file

**Actions:**
1. Parse YAML/JSON OpenSpec file
2. Extract paths, methods, request/response schemas
3. Extract security requirements
4. Extract error responses

**Input Example:**
```yaml
openapi: 3.0.0
info:
  title: Credit API
  version: 1.0.0
paths:
  /api/credit/purchase:
    post:
      summary: Purchase credit
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                amount:
                  type: number
      responses:
        200:
          description: Success
        400:
          description: Bad request
```

**Output:**
```typescript
{
  openspec: {
    apis: Array<{
      method: string;
      path: string;
      summary?: string;
      description?: string;
      requestBody?: any;
      responses?: any;
      security?: any;
    }>;
  };
}
```

**Best Practices:**
- ‡πÉ‡∏ä‡πâ `js-yaml` library
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á YAML ‡πÅ‡∏•‡∏∞ JSON format
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå ‡πÉ‡∏´‡πâ skip ‡πÑ‡∏õ

---

### Task 2.3: Parse Speckit

**Goal:** ‡∏î‡∏∂‡∏á Use Cases ‡πÅ‡∏•‡∏∞ Business Rules ‡∏à‡∏≤‡∏Å Speckit file

**Actions:**
1. Parse YAML Speckit file
2. Extract flows ‚Üí Use Cases
3. Extract rules ‚Üí Business Rules

**Input Example:**
```yaml
flows:
  - name: Purchase Credit
    steps:
      - command: User initiates credit purchase
        validation: Amount must be positive
      - command: System charges payment method
        validation: Payment method must be valid
      - command: System credits user balance
        validation: Balance must be updated

rules:
  - name: Minimum Credit Amount
    condition: amount < 10
    action: Reject with error \"Minimum amount is 10\"
```

**Output:**
```typescript
{
  speckit: {
    flows: Array<{
      name: string;
      steps: Array<{ command: string; validation?: string }>;
    }>;
    rules: Array<{
      name: string;
      condition: string;
      action: string;
    }>;
  };
}
```

**Best Practices:**
- Convert flows ‚Üí Use Cases (Section 5)
- Convert rules ‚Üí Business Rules (Section 6)
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå ‡πÉ‡∏´‡πâ skip ‡πÑ‡∏õ

---

## Phase 3: LLM-Assisted Analysis

### Task 3.1: Infer Business Logic

**Goal:** ‡πÉ‡∏ä‡πâ LLM ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏ô‡∏∏‡∏°‡∏≤‡∏ô Use Cases ‡πÅ‡∏•‡∏∞ Business Rules ‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î

**When to Use:**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ Speckit file
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ validate ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Speckit

**LLM Prompt Template:**
```
You are a software architect analyzing a codebase.

Context:
- Framework: {{framework}}
- Domain: {{domain}}
- API Routes: {{routes}}
- Database Models: {{models}}

Code snippets:
{{codeSnippets}}

Task: Analyze this code and extract:
1. Use cases (user actions and system responses)
2. Business rules (validation, constraints, policies)

Format your response as JSON:
{
  \"useCases\": [
    { \"name\": \"...\", \"actor\": \"...\", \"flow\": [\"step1\", \"step2\", ...] }
  ],
  \"businessRules\": [
    { \"name\": \"...\", \"condition\": \"...\", \"action\": \"...\" }
  ]
}

Focus on the most important use cases and rules. Limit to 8 use cases and 10 business rules.
```

**Best Practices:**
- ‡πÉ‡∏ä‡πâ GPT-4 Turbo ‡∏´‡∏£‡∏∑‡∏≠ Claude 3.5 Sonnet
- Chunk code ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÜ (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 4K tokens/chunk)
- Cache LLM responses ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢
- Validate LLM output ‡∏Å‡∏±‡∏ö static analysis results
- ‡∏ñ‡πâ‡∏≤ LLM hallucinate ‡πÉ‡∏´‡πâ flag ‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ user review

**Cost Optimization:**
- ‡πÉ‡∏ä‡πâ LLM ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô (‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£)
- Batch multiple requests
- Cache results
- Estimated cost: $0.50-$1.00 per project

---

### Task 3.2: Generate Section Prose

**Goal:** ‡πÉ‡∏ä‡πâ LLM ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ section

**Sections to Generate:**
1. System Overview (Section 1)
2. Architecture Summary (Section 2)
3. Data Model description (Section 3)
4. Security Requirements description (Section 7)
5. Performance Requirements description (Section 8)

**LLM Prompt Template:**
```
You are a technical writer creating clear, professional documentation.

Task: Write a {{section}} section (2-3 paragraphs) based on this data:
{{data}}

Requirements:
- Write in a formal but readable style
- Use complete paragraphs (not bullet points)
- Be concise and accurate
- Avoid jargon unless necessary
```

**Example:**

**Input:**
```json
{
  \"section\": \"System Overview\",
  \"data\": {
    \"projectName\": \"Credit Management System\",
    \"framework\": \"NestJS\",
    \"features\": [
      { \"name\": \"Credit Purchase\", \"description\": \"Users can purchase credits\" },
      { \"name\": \"Credit Balance\", \"description\": \"Users can view their balance\" }
    ]
  }
}
```

**Output:**
```markdown
The Credit Management System is a backend service built with NestJS that enables users to purchase and manage credits. The system provides a secure API for credit transactions, including purchasing credits via payment gateways and viewing current balances.

The application follows a microservices architecture with clear separation of concerns. Core features include credit purchase workflows, balance management, and integration with external payment providers such as Stripe.
```

**Best Practices:**
- ‡πÉ‡∏ä‡πâ temperature 0.7 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
- Validate prose ‡∏Å‡∏±‡∏ö factual data (‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ LLM ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏≠‡∏á)
- ‡∏ñ‡πâ‡∏≤ prose ‡πÑ‡∏°‡πà‡∏î‡∏µ ‡πÉ‡∏´‡πâ regenerate ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ template

---

## Phase 4: SPEC Generation

### Task 4.1: Merge All Data Sources

**Goal:** ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å phase ‡πÇ‡∏î‡∏¢‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á

**Merge Priority:**
1. **Code (Static Analysis)** - ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á)
2. **Documentation (Markdown)** - ‡∏Å‡∏•‡∏≤‡∏á (‡πÄ‡∏õ‡πá‡∏ô intent)
3. **Spec Files (OpenSpec, Speckit)** - ‡∏ï‡πà‡∏≥ (‡∏≠‡∏≤‡∏à outdated)

**Merge Strategy:**

**Section 1: System Overview**
```
Priority: docs.overview > specs.info.description > LLM-generated
```

**Section 2: Architecture Summary**
```
Priority: docs.architecture > inferred from code
```

**Section 3: Data Model**
```
Priority: code only (Prisma schema is source of truth)
```

**Section 4: API Specification**
```
Merge: code routes + OpenSpec
- ‡∏ñ‡πâ‡∏≤ route ‡∏°‡∏µ‡πÉ‡∏ô code ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô OpenSpec ‚Üí ‡πÉ‡∏ä‡πâ code, flag \"Missing in OpenSpec\"
- ‡∏ñ‡πâ‡∏≤ route ‡∏°‡∏µ‡πÉ‡∏ô OpenSpec ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô code ‚Üí ‡πÉ‡∏ä‡πâ OpenSpec, flag \"Not found in code\"
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á ‚Üí ‡πÉ‡∏ä‡πâ code, merge details ‡∏à‡∏≤‡∏Å OpenSpec
```

**Section 5: Feature Definitions & Use Cases**
```
Merge: docs.features + speckit.flows + LLM.useCases
- Remove duplicates (by name similarity)
- Prioritize: docs > speckit > LLM
```

**Section 6: Business Rules**
```
Priority: speckit.rules > LLM.businessRules
```

**Section 7: Security Requirements**
```
Priority: code detection (middlewares)
```

**Section 8: Performance Requirements**
```
Priority: inferred from framework + LLM-generated
```

**Conflict Resolution Example:**
```
Conflict:
- Code: 23 API endpoints detected
- OpenSpec: 18 endpoints documented

Resolution:
- Use all 23 endpoints from code
- Flag 5 endpoints as \"Missing in OpenSpec\"
- Add OpenSpec details to matching 18 endpoints
```

---

### Task 4.2: Generate SPEC Document

**Goal:** ‡∏™‡∏£‡πâ‡∏≤‡∏á SPEC ‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô SmartSpec (8 core sections)

**SPEC Structure:**

```markdown
# SPEC - {{projectName}}

**Version:** {{version}}  
**Generated:** {{date}}  
**Source:** Reverse Engineering (SmartSpec)  

---

## 1. System Overview

{{overview}}

**Key Features:**
{{#each features}}
- **{{name}}**: {{description}}
{{/each}}

---

## 2. Architecture Summary

{{architecture}}

**Framework:** {{framework}}

**External Dependencies:**
{{#each dependencies}}
- **{{name}}** ({{type}}): {{purpose}}
{{/each}}

---

## 3. Data Model

{{dataModelDescription}}

### ER Diagram

\\`\\`\\`mermaid
{{erDiagram}}
\\`\\`\\`

### Tables

{{#each models}}
#### {{name}}

| Column | Type | Constraints |
|--------|------|-------------|
{{#each fields}}
| {{name}} | {{type}} | {{constraints}} |
{{/each}}
{{/each}}

---

## 4. API Specification

{{#each apis}}
### {{method}} {{path}}

{{#if summary}}**Summary:** {{summary}}{{/if}}

{{#if description}}{{description}}{{/if}}

{{#if warning}}‚ö†Ô∏è **Warning:** {{warning}}{{/if}}

**Authentication:** {{#if security}}Required{{else}}Not required{{/if}}

{{#if requestBody}}
**Request Body:**
\\`\\`\\`json
{{json requestBody}}
\\`\\`\\`
{{/if}}

{{#if responses}}
**Responses:**
{{#each responses}}
- **{{@key}}**: {{description}}
{{/each}}
{{/if}}

---
{{/each}}

## 5. Feature Definitions & Use Cases

{{#each useCases}}
### {{name}}

**Actor:** {{actor}}

**Flow:**
{{#each flow}}
{{inc @index}}. {{this}}
{{/each}}

---
{{/each}}

## 6. Business Rules

{{#each businessRules}}
### {{name}}

**Condition:** {{condition}}  
**Action:** {{action}}

---
{{/each}}

## 7. Security Requirements

**Authentication:** {{security.authentication.type}}

**Rate Limiting:** {{#if security.rateLimit}}Enabled{{else}}Not detected{{/if}}

**Input Validation:** {{#if security.validation}}{{security.validation.library}}{{else}}Not detected{{/if}}

---

## 8. Performance Requirements

{{performanceDescription}}

---

**End of SPEC**

*Generated by SmartSpec Reverse Engineering*
```

**Best Practices:**
- ‡πÉ‡∏ä‡πâ Handlebars template engine
- Generate diagrams (Mermaid) inline
- Add warnings ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à
- Add source attribution (code, docs, specs, LLM)

---

### Task 4.3: Validate Completeness

**Goal:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ SPEC ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô

**Validation Checklist:**
- ‚úÖ ‡∏°‡∏µ 8 core sections ‡∏Ñ‡∏£‡∏ö
- ‚úÖ Section 3 (Data Model) ‡∏°‡∏µ ER diagram
- ‚úÖ Section 4 (API Specification) ‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 endpoint
- ‚úÖ Section 5 (Use Cases) ‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 use case
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ placeholder ‡∏´‡∏£‡∏∑‡∏≠ TODO ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
- ‚úÖ Diagrams render ‡πÑ‡∏î‡πâ (Mermaid syntax ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)

**Warnings to Flag:**
- ‚ö†Ô∏è API endpoints ‡πÉ‡∏ô OpenSpec ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö code
- ‚ö†Ô∏è Business rules ‡∏ñ‡∏π‡∏Å infer ‡∏à‡∏≤‡∏Å LLM (‡∏Ñ‡∏ß‡∏£ review)
- ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ architecture.md (‡∏ï‡πâ‡∏≠‡∏á infer)
- ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ authentication detected

---

### Task 4.4: Generate Summary Report

**Goal:** ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£ reverse engineering

**Report Format:**
```
‚ú® SmartSpec Reverse Engineering Complete!

üìä Summary:
- Project: {{projectName}}
- Framework: {{framework}}
- Files analyzed: {{fileCount}}
- Data Model: {{modelCount}} tables
- API Endpoints: {{apiCount}} routes
- Use Cases: {{useCaseCount}}
- Business Rules: {{ruleCount}}
- External Dependencies: {{dependencyCount}}

‚ö†Ô∏è  Warnings:
{{#each warnings}}
- {{this}}
{{/each}}

üìÅ Output:
- SPEC: {{outputPath}}

üöÄ Next Steps:
1. Review generated SPEC: {{outputPath}}
2. Fix warnings (if any)
3. Generate PLAN: smartspec generate plan --spec {{outputPath}}
```

---

## Output Files

‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

1. **spec.md** - SPEC document (8 core sections)
2. **data-model.md** (optional) - Detailed data model with ER diagram
3. **api-spec.md** (optional) - Detailed API specification

---

## Best Practices

### 1. Accuracy Over Completeness
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à ‡πÉ‡∏´‡πâ flag ‡πÑ‡∏ß‡πâ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏î‡∏≤
- ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å code ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£

### 2. Readable Output
- ‡πÉ‡∏ä‡πâ LLM ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
- ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà dump ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö raw

### 3. Cost Optimization
- ‡πÉ‡∏ä‡πâ LLM ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
- Cache LLM responses
- Batch requests

### 4. Performance
- Process files in parallel ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ
- Limit LLM context size (chunk code)

### 5. User Experience
- ‡πÅ‡∏™‡∏î‡∏á progress indicators
- ‡πÅ‡∏™‡∏î‡∏á warnings ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- ‡∏™‡∏£‡πâ‡∏≤‡∏á summary report

---

## Example Usage

### Command
```bash
smartspec reverse \\
  --src ./my-project \\
  --prisma ./prisma/schema.prisma \\
  --docs ./docs \\
  --openspec ./openapi.yaml \\
  --speckit ./speckit.yaml \\
  --output ./specs/spec.md
```

### Expected Output
```
üîç SmartSpec Reverse Engineering

üìÇ Scanning project: ./my-project
‚úÖ Found 127 TypeScript files
‚úÖ Framework detected: NestJS
‚úÖ Prisma schema found: ./prisma/schema.prisma

üóÑÔ∏è  Parsing Prisma schema...
‚úÖ Extracted 8 models, 42 fields
‚úÖ Generated ER diagram

üõ£Ô∏è  Detecting API routes...
‚úÖ Found 23 endpoints (NestJS)

üîí Detecting middlewares...
‚úÖ Found: JWT auth, Rate limiting, Zod validation

üì¶ Detecting dependencies...
‚úÖ Found: Stripe, SendGrid, Redis

üìÑ Parsing documentation...
‚úÖ Parsed: readme.md, architecture.md, backlog.md

üìã Parsing spec files...
‚úÖ Parsed: openapi.yaml (18 endpoints), speckit.yaml (5 flows)

ü§ñ LLM-assisted analysis...
‚úÖ Inferred 8 use cases, 12 business rules

üìù Generating SPEC...
‚úÖ Generated 8 core sections

‚ú® Done! SPEC saved to: ./specs/spec.md

üìä Summary:
- Data Model: 8 tables
- API Endpoints: 23 routes
- Use Cases: 8
- Business Rules: 12
- External Dependencies: 3

‚ö†Ô∏è  Warnings:
- 5 API endpoints in code not found in OpenSpec
- 2 business rules inferred by LLM (please review)

üöÄ Next steps:
1. Review generated SPEC: ./specs/spec.md
2. Fix warnings (if any)
3. Generate PLAN: smartspec generate plan --spec ./specs/spec.md
```

---

## Limitations (MVP)

**Supported:**
- ‚úÖ TypeScript, JavaScript
- ‚úÖ Prisma ORM
- ‚úÖ Express, NestJS, Fastify
- ‚úÖ OpenSpec, Speckit
- ‚úÖ Markdown documentation

**Not Supported (Future):**
- ‚ùå Python, Go, Java
- ‚ùå Sequelize, TypeORM, Drizzle
- ‚ùå BMAD format
- ‚ùå Complex Saga patterns
- ‚ùå Advanced security analysis

---

## Error Handling

### Common Errors

**Error: Prisma schema not found**
```
Solution: Specify --prisma flag with correct path
```

**Error: No API routes detected**
```
Possible causes:
- Framework not supported
- Routes defined in non-standard way
Solution: Check framework detection, add routes manually if needed
```

**Error: LLM API rate limit**
```
Solution: Wait and retry, or reduce LLM usage with --no-llm flag
```

**Error: Invalid OpenSpec format**
```
Solution: Validate OpenSpec file with OpenAPI validator
```

---

## Success Criteria

**MVP Success:**
- ‚úÖ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ generate SPEC ‡∏à‡∏≤‡∏Å TypeScript/Prisma project ‡πÑ‡∏î‡πâ
- ‚úÖ Accuracy > 75% (‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö manual SPEC)
- ‚úÖ Processing time < 5 minutes for medium project (50K LOC)
- ‚úÖ LLM cost < $1 per project
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ critical bugs

---

**End of Workflow**
"""
