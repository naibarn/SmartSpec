# Workflow: /smartspec_generate_rjsf_schema

**สร้าง JSON Schema และ UI Schema สำหรับ React JSON Schema Form (RJSF) จากคำสั่งภาษาธรรมชาติ**

---

## 1. ภาพรวม

เวิร์กโฟลว์นี้ช่วยสร้างการตั้งค่าฟอร์มที่ซับซ้อนสำหรับ **React JSON Schema Form (RJSF)** โดยอัตโนมัติ โดยรับคำอธิบายฟอร์มระดับสูงในรูปแบบภาษาธรรมชาติและสร้างไฟล์ที่สำคัญสองไฟล์ที่ RJSF ต้องการ: data schema (`schema.json`) และ UI layout schema (`uiSchema.json`) ซึ่งช่วยเร่งการพัฒนาฟอร์มได้อย่างมากโดยลดความซับซ้อนของมาตรฐาน JSON Schema

## 2. หมวดหมู่

`ui_generation`

## 3. พารามิเตอร์

### พารามิเตอร์ที่จำเป็น

| พารามิเตอร์ | ประเภท | คำอธิบาย |
| :--- | :--- | :--- |
| `--prompt` | string | คำอธิบายฟอร์มโดยละเอียดในรูปแบบภาษาธรรมชาติ รวมถึงฟิลด์, ประเภท, กฎการตรวจสอบ และคำแนะนำ UI (เช่น "ใช้ password widget") |
| `--output-dir` | string | ไดเรกทอรีที่จะบันทึกไฟล์ `schema.json` และ `uiSchema.json` ที่สร้างขึ้น |

### พารามิเตอร์ที่ไม่จำเป็น

| พารามิเตอร์ | ประเภท | ค่าเริ่มต้น | คำอธิบาย |
| :--- | :--- | :--- | :--- |
| `--schema-filename` | string | `schema.json` | ชื่อไฟล์สำหรับ JSON Schema ที่ส่งออก |
| `--uischema-filename` | string | `uiSchema.json` | ชื่อไฟล์สำหรับ UI Schema ที่ส่งออก |
| `--model` | string | `gemini-2.5-flash` | โมเดล AI ที่จะใช้สำหรับการสร้างสคีมา ช่วยให้สามารถเลือกโมเดลที่มีประสิทธิภาพมากขึ้นสำหรับฟอร์มที่ซับซ้อน |

## 4. ตัวอย่างการใช้งาน

### สร้างฟอร์มลงทะเบียนผู้ใช้

**คำสั่ง:**
```bash
/smartspec_generate_rjsf_schema \
  --prompt "สร้างฟอร์มลงทะเบียนผู้ใช้ ต้องการฟิลด์อีเมล (ต้องเป็นอีเมลที่ถูกต้อง), ฟิลด์รหัสผ่านที่มีความยาวอย่างน้อย 8 ตัวอักษร, ฟิลด์ยืนยันรหัสผ่านที่ต้องตรงกับรหัสผ่าน และช่องทำเครื่องหมายเพิ่มเติมเพื่อสมัครรับจดหมายข่าว รหัสผ่านควรใช้ password widget เรียงลำดับฟิลด์เป็น อีเมล, รหัสผ่าน, ยืนยันรหัสผ่าน, จากนั้นจึงเป็นจดหมายข่าว" \
  --output-dir "src/config/forms/registration/"
```

**ผลลัพธ์:**
- ไฟล์ `schema.json` จะถูกสร้างขึ้นในไดเรกทอรีเอาต์พุตพร้อมโครงสร้างข้อมูลและกฎการตรวจสอบ
- ไฟล์ `uiSchema.json` จะถูกสร้างขึ้นพร้อมลำดับฟิลด์และวิดเจ็ตรหัสผ่านที่ระบุ

---

### สร้างฟอร์มการตั้งค่าพร้อมเมนูแบบเลื่อนลง

**คำสั่ง:**
```bash
/smartspec_generate_rjsf_schema \
  --prompt "สร้างฟอร์มการตั้งค่าโปรไฟล์ผู้ใช้ รวมถึงฟิลด์ชื่อผู้ใช้ที่อ่านอย่างเดียว, ฟิลด์ประวัติที่แก้ไขได้โดยใช้ textarea widget และเมนูแบบเลื่อนลงเพื่อเลือกการตั้งค่าการแจ้งเตือน (ไม่มี, อีเมล, SMS)" \
  --output-dir "src/config/forms/settings/"
```

**ผลลัพธ์:**
- `schema.json` จะกำหนดฟิลด์ `notification_preference` เป็น `enum`
- `uiSchema.json` จะกำหนดฟิลด์ `bio` ด้วย `"ui:widget": "textarea"`

## 5. หมายเหตุ

- คุณภาพของสคีมาที่สร้างขึ้นขึ้นอยู่กับรายละเอียดและความชัดเจนของ `--prompt` อย่างมาก ควรระบุให้เฉพาะเจาะจงที่สุดเท่าที่จะทำได้เกี่ยวกับการตรวจสอบ, วิดเจ็ต และลำดับฟิลด์
- สำหรับฟอร์มที่ซับซ้อนมากซึ่งมีตรรกะแบบมีเงื่อนไข คุณอาจต้องแก้ไขไฟล์ที่สร้างขึ้นด้วยตนเองเพื่อการปรับแต่งอย่างละเอียด
- เวิร์กโฟลว์นี้เป็นเครื่องมือที่มีประสิทธิภาพสำหรับการสร้างต้นแบบอย่างรวดเร็วและสามารถรวมเข้ากับกระบวนการที่ใหญ่ขึ้นซึ่ง AI agent ออกแบบและสร้างฟอร์มแบบไดนามิกได้
