# `/smartspec_implement_tasks.md`

**Fully automates the implementation of tasks by acting as an AI agent that directly reads specifications and writes code.**

---

## 1. Summary

This is the most powerful and autonomous command in the SmartSpec suite. It takes a `tasks.md` file (or a prompt file generated by `generate_implement_prompt`) and executes the tasks directly, creating and modifying your source code files without manual intervention.

- **What it solves:** It provides a "lights-out" coding experience. You define the tasks, and the AI agent handles the implementation, validation, and progress tracking.
- **When to use it:** Use this when you have a well-defined set of tasks and you trust the AI to handle the implementation from start to finish. It is the primary tool for **automated implementation**.

---

## 2. Execution Model

This command acts as a self-contained AI agent. It does **not** require Kilo Code, Roo Code, Cursor, or any other external platform. It runs entirely within the SmartSpec environment.

**Workflow:**
1.  Parse the input file (`tasks.md` or `implement-prompt.md`).
2.  Create a plan of execution based on task dependencies.
3.  For each task:
    a.  Read the requirements.
    b.  Generate the necessary code.
    c.  Write the code to the target file(s).
    d.  Run validation commands (compile, test, lint).
    e.  If validation passes, mark the task as complete.
    f.  If validation fails, attempt to debug or stop.
4.  Create checkpoints and manage state.

---

## 3. Usage

```bash
/smartspec_implement_tasks.md <path_to_tasks_or_prompt_file> [options...]
```

---

## 4. Parameters & Options

### **Primary Argument**

| Name | Type | Required? | Description | Example |
| :--- | :--- | :--- | :--- | :--- |
| `path` | `string` | ✅ Yes | The path to the source `tasks.md` or `implement-prompt-*.md` file. | `specs/features/new-login/tasks.md` |

### **Options**

| Option | Value | Default | Description |
| :--- | :--- | :--- | :--- |
| `--phase` | `<phase_number>` | (all) | Restricts implementation to a specific phase or range of phases (e.g., `1`, `1-3`). |
| `--tasks` | `<task_id_or_range>` | (all) | Restricts implementation to specific tasks. |
| `--resume` | (flag) | (unset) | Resumes implementation from the last saved checkpoint. |
| `--skip-completed` | (flag) | ✅ **Yes** | Skips any tasks that are already marked as complete (`- [x]`). |
| `--force-all` | (flag) | (unset) | Ignores the completed status and re-implements all specified tasks. |
| `--validate-only` | (flag) | (unset) | Runs only the validation commands for the specified tasks without writing any code. |

---

## 5. Detailed Examples

### **Example 1: Implementing an Entire Phase**

**Goal:** Automatically implement all tasks in the first phase of a feature.

```bash
/smartspec_implement_tasks.md specs/features/new-feature/tasks.md --phase 1
```

**Result:** The AI agent will execute all tasks in Phase 1, skipping any that are already complete.

### **Example 2: Resuming a Failed Implementation**

**Goal:** A previous run failed on task T015. You have fixed the issue and want to continue.

```bash
/smartspec_implement_tasks.md specs/features/new-feature/tasks.md --resume
```

**Result:** The agent will load the last checkpoint and resume execution starting from task T015.

### **Example 3: Re-implementing a Specific Task**

**Goal:** You are not happy with the implementation of T007 and want the AI to try again.

```bash
/smartspec_implement_tasks.md specs/features/new-feature/tasks.md --tasks T007 --force-all
```

**Result:** The agent will ignore the fact that T007 is marked as complete and will re-implement it from scratch.

---

## 6. Troubleshooting

| Problem | Cause | Solution |
| :--- | :--- | :--- |
| **Agent gets stuck in a loop** | The validation command may be failing consistently, and the AI's fix is not working. | Stop the process. Manually fix the issue that is causing the validation to fail. Then, run the command again with `--resume`. |
| **Incorrect code is generated** | The task description in `tasks.md` is ambiguous. | Stop the process. Revert the changes. Improve the detail and clarity of the task description in `tasks.md`, then run the command again with `--force-all` for the failed tasks. |
| **"Checkpoint not found"** | You used `--resume` but no checkpoint file exists. | Run the command without `--resume` to start from the beginning. |
