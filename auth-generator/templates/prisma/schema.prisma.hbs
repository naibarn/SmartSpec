// Prisma Schema
// Generated by SmartSpec Auth Generator

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" // Change to "mysql" or "sqlite" as needed
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String
  {{#if rbac.enabled}}
  role      String   @default("{{rbac.defaultRole}}")
  {{/if}}
  {{#if features.emailVerification}}
  emailVerified              Boolean   @default(false)
  emailVerificationToken     String?
  emailVerificationExpires   DateTime?
  {{/if}}
  {{#if features.accountLockout}}
  failedLoginAttempts        Int       @default(0)
  lockedUntil                DateTime?
  {{/if}}
  {{#if features.passwordReset}}
  resetPasswordToken         String?
  resetPasswordExpires       DateTime?
  {{/if}}
  {{#if userModel.fields}}
  {{#each userModel.fields}}
  {{#unless (includes ../excludedFields this.name)}}
  {{this.name}}              {{#if (eq this.type "string")}}String{{else if (eq this.type "number")}}Int{{else if (eq this.type "boolean")}}Boolean{{else if (eq this.type "datetime")}}DateTime{{else}}String{{/if}}{{#if this.optional}}?{{/if}}
  {{/unless}}
  {{/each}}
  {{/if}}
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  {{#if rbac.enabled}}
  @@index([role])
  {{/if}}
  @@index([email])
}
